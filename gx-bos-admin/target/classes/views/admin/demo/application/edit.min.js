var ApplicationForm=(function(e){var d="edit-application",a="application-list",b=e("#form-"+d);var f={id:"",code:"",name:"",intranetHomepage:"",deleted:false};var c=function(h){var g=this;ko.mapping.fromJS(h,{},g);g.onAddApplicationInstance=function(){g.appInstances.push(ko.mapping.fromJS(f));b.trigger("updateValidate");return false};g.onDeleteApplicationInstance=function(i){i.id()?i.deleted(true):g.appInstances.remove(i);return false}};return{init:function(){var g=b.attr("item-id");if(!g){g=-1}e.getJSON(base+"/admin/demo/application/app/"+g,function(h){ko.applyBindings(new c(h.returnObject),b[0]);b.trigger("updateValidate")});e("#save-action-"+d).click(function(i){var h=e(this);b.ajaxValidSubmit({success:function(j){MessageBox.success("保存成功");h.trigger("pop.mu.breadcrumb");e("#list-"+a).DataTable().ajax.reload()},error:function(){}})});e("#gen-key-action").click(function(h){})}}}(jQuery));$(function(){ApplicationForm.init()});
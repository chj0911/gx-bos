ko.exportSymbol=function(c,a){var e=c.split(".");var d=window;for(var b=0;b<e.length-1;b++){d=d[e[b]]}d[e[e.length-1]]=a};ko.exportProperty=function(b,a,c){b[a]=c};(function(){ko.mapping={};var h="__ko_mapping__";var e=ko.dependentObservable;var p;function j(s,u){for(var t in u){if(u.hasOwnProperty(t)&&u[t]){s[t]=u[t]}}}function c(u,t){var s={};j(s,u);j(s,t);return s}ko.mapping.fromJS=function(t,u,v){if(arguments.length==0){throw new Error("When calling ko.fromJS, pass the object you want to convert.")}u=k(u);var s=q(v,t,u);s[h]=c(s[h],u);return s};ko.mapping.fromJSON=function(u,t){var s=ko.utils.parseJson(u);return ko.mapping.fromJS(s,t)};ko.mapping.isMapped=function(t){var s=ko.utils.unwrapObservable(t);return s&&s[h]};ko.mapping.updateFromJS=function(t,s){if(arguments.length<2){throw new Error("When calling ko.updateFromJS, pass: the object to update and the object you want to update from.")}if(!t){throw new Error("The object is undefined.")}if(!t[h]){throw new Error("The object you are trying to update was not created by a 'fromJS' or 'fromJSON' mapping.")}return q(t,s,t[h])};ko.mapping.updateFromJSON=function(u,v,t){var s=ko.utils.parseJson(v);return ko.mapping.updateFromJS(u,s,t)};ko.mapping.toJS=function(t,s){if(!p){ko.mapping.resetDefaultOptions()}if(arguments.length==0){throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.")}if(!(p.ignore instanceof Array)){throw new Error("ko.mapping.defaultOptions().ignore should be an array.")}if(!(p.include instanceof Array)){throw new Error("ko.mapping.defaultOptions().include should be an array.")}s=s||{};if(!(s.ignore instanceof Array)){s.ignore=[s.ignore]}s.ignore=s.ignore.concat(p.ignore);if(!(s.include instanceof Array)){s.include=[s.include]}s.include=s.include.concat(p.include);return ko.mapping.visitModel(t,function(u){return ko.utils.unwrapObservable(u)},s)};ko.mapping.toJSON=function(u,s){var t=ko.mapping.toJS(u,s);return ko.utils.stringifyJson(t)};ko.mapping.defaultOptions=function(){if(arguments.length>0){p=arguments[0]}else{return p}};ko.mapping.resetDefaultOptions=function(){p={include:["_destroy"],ignore:[]}};function i(s){if((s)&&(typeof(s)==="object")&&(s.constructor==(new Date).constructor)){return"date"}return typeof s}function k(s){s=s||{};if((s.create instanceof Function)||(s.key instanceof Function)||(s.arrayChanged instanceof Function)){s={"":s}}s.mappedProperties={};return s}function n(){ko.dependentObservable=function(){var s=arguments[2]||{};s.deferEvaluation=true;var t=new e(arguments[0],arguments[1],s);t.__ko_proto__=e;return t}}function o(){ko.dependentObservable=e}function q(s,L,w,J,G,B){var E=ko.utils.unwrapObservable(L) instanceof Array;if(ko.mapping.isMapped(s)){var v=ko.utils.unwrapObservable(s)[h];w=c(v,w)}var u=function(){return w[G]&&w[G].create instanceof Function};J=J||new a();if(J.get(L)){return s}G=G||"";if(!E){if(!l(L)){switch(i(L)){case"function":s=L;break;default:if(ko.isWriteableObservable(s)){s(ko.utils.unwrapObservable(L))}else{s=ko.observable(ko.utils.unwrapObservable(L))}break}}else{if(!s){if(u()){n();var D=w[G].create({data:L,parent:B});o();return D}else{s={}}}J.save(L,s);r(L,function(O){var P;var Q=J.get(L[O]);if(Q){s[O]=Q}else{s[O]=q(s[O],L[O],w,J,O,s)}w.mappedProperties[f(G,L,O)]=true})}}else{var M=[];var A=function(O){return O};if(w[G]&&w[G].key){A=w[G].key}if(!ko.isObservable(s)){s=ko.observableArray([]);s.mappedRemove=function(P){var O=typeof P=="function"?P:function(Q){return Q===A(P)};return s.remove(function(Q){return O(A(Q))})};s.mappedRemoveAll=function(P){var O=m(P,A);return s.remove(function(Q){return ko.utils.arrayIndexOf(O,A(Q))!=-1})};s.mappedDestroy=function(P){var O=typeof P=="function"?P:function(Q){return Q===A(P)};return s.destroy(function(Q){return O(A(Q))})};s.mappedDestroyAll=function(P){var O=m(P,A);return s.destroy(function(Q){return ko.utils.arrayIndexOf(O,A(Q))!=-1})};s.mappedIndexOf=function(Q){var P=m(s(),A);var O=A(Q);return ko.utils.arrayIndexOf(P,O)}}var F=m(ko.utils.unwrapObservable(s),A).sort();var y=m(L,A).sort();var x=ko.utils.compareArrays(F,y);var C=[];for(var I=0,H=x.length;I<H;I++){var N=x[I];var t;switch(N.status){case"added":var K=g(ko.utils.unwrapObservable(L),N.value,A);t=ko.utils.unwrapObservable(q(undefined,K,w,J,G,s));var z=ko.utils.arrayIndexOf(ko.utils.unwrapObservable(L),K);C[z]=t;break;case"retained":var K=g(ko.utils.unwrapObservable(L),N.value,A);t=g(s,N.value,A);q(t,K,w,J,G,s);var z=ko.utils.arrayIndexOf(ko.utils.unwrapObservable(L),K);C[z]=t;break;case"deleted":t=g(s,N.value,A);break}M.push({event:N.status,item:t})}s(C);if(w[G]&&w[G].arrayChanged){ko.utils.arrayForEach(M,function(O){w[G].arrayChanged(O.event,O.item)})}}return s}function b(s,u){var t;if(u){t=u(s)}if(!t){t=s}return ko.utils.unwrapObservable(t)}function g(v,t,u){var s=ko.utils.arrayFilter(ko.utils.unwrapObservable(v),function(w){return b(w,u)==t});if(s.length==0){throw new Error("When calling ko.update*, the key '"+t+"' was not found!")}if((s.length>1)&&(l(s[0]))){throw new Error("When calling ko.update*, the key '"+t+"' was not unique!")}return s[0]}function m(t,s){return ko.utils.arrayMap(ko.utils.unwrapObservable(t),function(u){if(s){return b(u,s)}else{return u}})}function d(s,y,x,B,C){var v=m(y,x).sort();var w=m(s,x).sort();var z=ko.utils.compareArrays(w,v);for(var u=0,t=z.length;u<t;u++){var A=z[u];switch(A.status){case"added":var D=g(ko.utils.unwrapObservable(y),A.value,x);B("added",D);break;case"retained":var D=g(y,A.value,x);B("retained",D);break;case"deleted":var D=g(ko.utils.unwrapObservable(s),A.value,x);B("deleted",D);break}}}function r(u,v){if(u instanceof Array){for(var t=0;t<u.length;t++){v(t)}}else{for(var s in u){v(s)}}}function l(s){return(i(s)=="object")&&(s!==null)&&(s!==undefined)}function f(v,u,t){var s=v||"";if(u instanceof Array){if(v){s+="["+t+"]"}}else{if(v){s+="."}s+=t}return s}ko.mapping.visitModel=function(v,x,t){t=t||{};t.visitedObjects=t.visitedObjects||new a();var w;var s=ko.utils.unwrapObservable(v);if(!l(s)){return x(v,t.parentName)}else{x(v,t.parentName);w=s instanceof Array?[]:{}}t.visitedObjects.save(v,w);var u=t.parentName;r(s,function(A){if(t.ignore&&ko.utils.arrayIndexOf(t.ignore,A)!=-1){return}var y=s[A];t.parentName=f(u,s,A);if(t.include&&ko.utils.arrayIndexOf(t.include,A)===-1){if(s[h]&&s[h].mappedProperties&&!s[h].mappedProperties[A]&&!(s instanceof Array)){return}}var z;switch(i(ko.utils.unwrapObservable(y))){case"object":case"undefined":var B=t.visitedObjects.get(y);w[A]=(B!==undefined)?B:ko.mapping.visitModel(y,x,t);break;default:w[A]=x(y,t.parentName)}});return w};function a(){var t=[];var s=[];this.save=function(v,w){var u=ko.utils.arrayIndexOf(t,v);if(u>=0){s[u]=w}else{t.push(v);s.push(w)}};this.get=function(v){var u=ko.utils.arrayIndexOf(t,v);return(u>=0)?s[u]:undefined}}ko.exportSymbol("ko.mapping",ko.mapping);ko.exportSymbol("ko.mapping.fromJS",ko.mapping.fromJS);ko.exportSymbol("ko.mapping.fromJSON",ko.mapping.fromJSON);ko.exportSymbol("ko.mapping.isMapped",ko.mapping.isMapped);ko.exportSymbol("ko.mapping.defaultOptions",ko.mapping.defaultOptions);ko.exportSymbol("ko.mapping.toJS",ko.mapping.toJS);ko.exportSymbol("ko.mapping.toJSON",ko.mapping.toJSON);ko.exportSymbol("ko.mapping.updateFromJS",ko.mapping.updateFromJS);ko.exportSymbol("ko.mapping.updateFromJSON",ko.mapping.updateFromJSON);ko.exportSymbol("ko.mapping.visitModel",ko.mapping.visitModel)})();
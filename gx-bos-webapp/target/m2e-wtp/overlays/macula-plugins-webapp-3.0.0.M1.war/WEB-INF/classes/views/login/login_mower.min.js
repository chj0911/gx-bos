var Cookie=(function(){return{createCookie:function(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"},readCookie:function(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null},eraseCookie:function(a){Cookie.createCookie(a,"",-1)}}})();$(function(){var e="$f43312dbce092333$";$('input[name="username"]').focus();$("#password").keypress(function(f){a(f)});$("#loginCode").click(b);$("#loginCode_a").click(b);if(typeof validationErrors!="undefined"){for(var c in validationErrors){$("#"+c).removeClass("has-error").addClass("has-error")}}var d=Cookie.readCookie(e);if(d!=null&&d!=""){$("#userName").val(d);$("#password").focus()}else{$("#userName").select()}function a(h){var f=h.which;var g=h.shiftKey;if(((f>=65&&f<=90)&&!g)||((f>=97&&f<=122)&&g)){$("#password").tooltip("show")}else{$("#password").tooltip("hide")}}function b(){var f=base+"/login/ucaptcha?id="+$("#captchaId").val()+"&_t="+new Date().getTime();$.get(f,function(h){if(h){var g=base+"/login/captcha?id="+h+"&_t="+new Date().getTime();$("#loginCode").attr("src",g);$("#captchaId").val(h)}else{alert("请提供有效的凭据！")}})}$("#loginTab a").click(function(f){f.preventDefault();$(this).tab("show")});$("#login-form").submit(function(k){var j=$("#userName").val(),f=$("#password").val(),h=$("#captchaResponse").val();var g=input_message,i=true;if(j==""){$("#userName").closest(".input-group").removeClass("has-error").addClass("has-error");g+=userName_message;i=false}if(f==""){$("#password").closest(".input-group").removeClass("has-error").addClass("has-error");g+=password_message;i=false}if(h==""){$("#captchaResponse").closest(".form-group").removeClass("has-error").addClass("has-error");g+=captchaResponse_message;i=false}if(!i){$("#error").removeClass("alert-warning").removeClass("alert-danger").addClass("alert-danger");g=g.substring(0,g.length-1);$("#error").find("span").html(g);k.preventDefault()}else{Cookie.createCookie(e,j,365)}})});